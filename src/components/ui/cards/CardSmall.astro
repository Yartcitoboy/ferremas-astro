---
// filepath: d:\ScrewFast\src\components\ui\cards\CardSmall.astro
import Icon from "@components/ui/icons/Icon.astro";
const { product } = Astro.props;
---

<div class="flex flex-col bg-white rounded-xl shadow-lg overflow-hidden h-full">
  <!-- Imagen arriba -->
  <a href={`/products/${product.id_producto}`} data-astro-prefetch class="block">
    <img
      src={product.imagen}
      alt={product.nombre || "Imagen del producto"}
      class="w-full h-40 object-cover object-center"
    />
  </a>
  <!-- Contenido abajo -->
  <div class="flex flex-col flex-1 p-4">
    <!-- Nombre -->
    <a href={`/product/${product.id_producto}`} data-astro-prefetch>
      <h3 class="text-lg font-bold text-neutral-800 flex items-center gap-2">
        {product.nombre}
        <Icon name="openInNew" />
      </h3>
    </a>
    <!-- Descripción -->
    <p class="text-xs text-gray-400">{product.descripcion}</p>
    <!-- Precio y botón -->
    <div class="mt-4 flex items-center justify-between">
      <span class="precio-producto text-xl font-bold text-black" data-precio-usd={product.precio}> ${product.precio.toFixed(2)} USD</span>
      <button
        type="button"
        class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition"
        onclick={`window.addToCart(${JSON.stringify(product)})`}
      >
        Comprar ahora
      </button>
    </div>
  </div>
</div>